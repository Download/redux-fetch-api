{"version":3,"sources":["webpack:///webpack/bootstrap e908c071819561df8077","webpack:///./redux-fetch-api.spec.jsx","webpack:///external \"chai\"","webpack:///external \"picolog\"","webpack:///external \"redux-apis\"","webpack:///./redux-fetch-api.jsx","webpack:///external \"isomorphic-fetch\""],"names":[],"mappings":"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","file":"redux-fetch-api.spec.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e908c071819561df8077\n **/","import { expect } from 'chai';\r\nimport log from 'picolog';\r\nimport { Api, link } from 'redux-apis';\r\n\r\nimport { remote, endpoint, fetcher } from './redux-fetch-api';\r\n\r\nconst fetched = [];\r\nfunction fetch(url, opts) {\r\n\tlog.info('fetch(', url, opts ? ', ' : '', opts ? opts : '');\r\n\tfetched.push(url);\r\n}\r\n\r\ndescribe('@remote(url=\\'\\')', () => {\r\n\tit('is a decorator function', () => {\r\n\t\texpect(remote).to.be.a('function');\r\n\t\t@remote\r\n\t\tclass Test {}\r\n\t\texpect(Test).to.be.a('function');\r\n\t});\r\n\r\n\tit('decorates the target component with a scoped `fetch` method', () => {\r\n\t\t@remote\r\n\t\tclass Test { }\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('fetch');\r\n\t\texpect(test.fetch).to.be.a('function');\r\n\t});\r\n\r\n\tit('works when called with braces', ()=>{\r\n\t\t@remote()\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test.fetch).to.be.a('function');\r\n\t})\r\n\r\n\tit('works when called without braces', ()=>{\r\n\t\t@remote\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test.fetch).to.be.a('function');\r\n\t})\r\n\r\n\tit('works when used as a regular function', () => {\r\n\t\tconst Test = remote(class Test { })\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('fetch');\r\n\t\texpect(test.fetch).to.be.a('function');\r\n\t\tconst Test2 = remote('/test')(class Test2 { })\r\n\t\tconst test2 = new Test2();\r\n\t\texpect(test2).to.have.a.property('fetch');\r\n\t\texpect(test2.fetch).to.be.a('function');\r\n\t});\r\n\r\n\tit('can be used on Api classes', () => {\r\n\t\t@remote\r\n\t\tclass Test extends Api {}\r\n\t\texpect(Test.prototype).to.have.a.property('fetch');\r\n\t});\r\n\r\n\tit('can be used on Api instances', () => {\r\n\t\tclass Test extends Api {}\r\n\t\tconst test = remote(new Test());\r\n\t\texpect(test).to.have.a.property('fetch');\r\n\t});\r\n\r\n\tit('can mix and match classes and instances', () => {\r\n\t\t@remote\r\n\t\tclass Search extends Api {}\r\n\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = remote(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t\tthis.people = remote(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tfetch(url) {\r\n\t\t\t\tfetched.push(url);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\texpect(app.products.fetch).to.be.a('function');\r\n\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\tapp.products.fetch('TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('TEST');\r\n\t\tapp.people.fetch('TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n\r\n\tit('accepts an optional `url` parameter, scoping calls to fetch to this url', () => {\r\n\t\t@remote\r\n\t\tclass Search extends Api {}\r\n\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('http://example.com/api')\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = remote('/products')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t\tthis.people = remote('/people')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\texpect(app.products.fetch).to.be.a('function');\r\n\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\tapp.products.fetch('?q=TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('http://example.com/api/products?q=TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n});\r\n\r\n\r\ndescribe('.fetch(url, opts, abs=false)', () => {\r\n\tit('is a method added to Api instances decorated with @remote', () => {\r\n\t\t@remote('/test')\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('fetch');\r\n\t\texpect(test.fetch).to.be.a('function');\r\n\t});\r\n\r\n\tit('accepts the `url` to fetch and an optional `opts` options object', () => {\r\n\t});\r\n\r\n\tit('is scoped to be relative to the url set by @remote', () => {\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('/inner')\r\n\t\tclass Inner extends Api {}\r\n\t\tnew Inner().fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/inner/TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n\r\n\tit('traverses up the api hierarchy and stops at the last one decorated with @remote', () => {\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\t@remote('/inner')\r\n\t\tclass Inner extends Api {}\r\n\t\t@remote('/outer')\r\n\t\tclass Outer extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@remote('/other')\r\n\t\tclass Other extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('http://some-server.com/api')\r\n\t\tclass Root extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\t\t\t\tthis.outer = link(this, new Outer());\r\n\t\t\t\tthis.other = link(this, new Other());\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst root = new Root();\r\n\t\t// test scoping\r\n\t\troot.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://some-server.com/api/TEST');\r\n\t\troot.outer.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://some-server.com/api/outer/TEST');\r\n\t\troot.outer.inner.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://some-server.com/api/outer/inner/TEST');\r\n\t\troot.other.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://some-server.com/api/other/TEST');\r\n\t\troot.other.inner.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://some-server.com/api/other/inner/TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n\r\n\tit('will stop traversing early if it encounters an api decorated with @endpoint', () => {\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\t@remote('/inner')\r\n\t\tclass Inner extends Api {}\r\n\t\t@remote('/outer')\r\n\t\tclass Outer extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('/other')\r\n\t\t@endpoint('http://other.example.com/api')\r\n\t\tclass Other extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('http://example.com/api')\r\n\t\tclass Root extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\t\t\t\tthis.outer = link(this, new Outer());\r\n\t\t\t\tthis.other = link(this, new Other());\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst root = new Root();\r\n\t\t// test scoping\r\n\t\troot.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://example.com/api/TEST');\r\n\t\troot.outer.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://example.com/api/outer/TEST');\r\n\t\troot.outer.inner.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://example.com/api/outer/inner/TEST');\r\n\t\troot.other.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://other.example.com/api/other/TEST');\r\n\t\troot.other.inner.fetch('/TEST');\r\n\t\texpect(fetched[fetched.length -1]).to.equal('http://other.example.com/api/other/inner/TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n\r\n\tit('can be used to perform unscoped fetch by setting `abs` to `true`', () => {\r\n\t\t@remote('/inner')\r\n\t\tclass Inner extends Api {}\r\n\t\t@remote('/outer')\r\n\t\tclass Outer extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@remote('/other')\r\n\t\tclass Other extends Api {constructor(state){super(state); this.inner = link(this, new Inner());}}\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('http://some-server.com/api')\r\n\t\tclass Root extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\t\t\t\tthis.outer = link(this, new Outer());\r\n\t\t\t\tthis.other = link(this, new Other());\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst root = new Root();\r\n\t\t// test scoping\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\troot.fetch('/TEST', null, true);\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/TEST');\r\n\t\troot.outer.fetch('/TEST', null, true);\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/TEST');\r\n\t\troot.outer.inner.fetch('/TEST', null, true);\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/TEST');\r\n\t\troot.other.fetch('/TEST', null, true);\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/TEST');\r\n\t\troot.other.inner.fetch('/TEST', null, true);\r\n\t\texpect(fetched[fetched.length -1]).to.equal('/TEST');\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n});\r\n\r\ndescribe('@endpoint(url=\\'\\', altUrl=null, useAlt=runningInBrowser())', () => {\r\n\r\n\tit('is a decorator function', () => {\r\n\t\texpect(endpoint).to.be.a('function');\r\n\t\t@endpoint\r\n\t\tclass Test {}\r\n\t\texpect(Test).to.be.a('function');\r\n\t});\r\n\r\n\tit('decorates the target component with an `__endpoint` property', () => {\r\n\t\t@endpoint\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t});\r\n\r\n\tit('works when called with braces', ()=>{\r\n\t\t@endpoint()\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t})\r\n\r\n\tit('works when called without braces', ()=>{\r\n\t\t@endpoint\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t})\r\n\r\n\tit('works when used as a regular function', () => {\r\n\t\tconst Test = endpoint(class Test { })\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t});\r\n\r\n\tit('can be used on Api classes', () => {\r\n\t\t@endpoint\r\n\t\tclass Test extends Api {}\r\n\t\texpect(Test.prototype).to.have.a.property('__endpoint');\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t});\r\n\r\n\tit('can be used on Api instances', () => {\r\n\t\tclass Test extends Api {}\r\n\t\tconst test = endpoint(new Test());\r\n\t\texpect(test).to.have.a.property('__endpoint');\r\n\t});\r\n\r\n\tit('can mix and match classes and instances', () => {\r\n\t\t//@endpoint\r\n\t\tclass Search extends Api {}\r\n\t\tconst search = new Search();\r\n\t\t//expect(search).to.have.a.property('__endpoint');\r\n\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = endpoint('PRODUCTS')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.people = endpoint('PEOPLE')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\tlog.info(app);\r\n\t\texpect(app.products.__endpoint).to.equal('PRODUCTS');\r\n\t\texpect(app.people.__endpoint).to.equal('PEOPLE');\r\n\t});\r\n\r\n\tit('used together with `@remote`, it stops `fetch` from traversing up the hierarchy', () => {\r\n\t\t@fetcher(fetch)\r\n\t\t@remote\r\n\t\tclass Search extends Api {}\r\n\r\n\t\t@fetcher(fetch)\r\n\t\t@remote\r\n\t\t@endpoint('http://example.com/api')\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = endpoint('http://example.com/products')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t\tthis.people = remote('/people')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\texpect(app.products.__endpoint).to.equal('http://example.com/products');\r\n\t\texpect(app.__endpoint).to.equal('http://example.com/api');\r\n\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\tapp.products.fetch('?q=TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('http://example.com/products?q=TEST');\r\n\t\tapp.people.fetch();\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('http://example.com/api/people');\r\n\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n\r\n\tit('accepts an optional `url` parameter, scoping calls to fetch to this url', () => {\r\n\t\t@remote\r\n\t\tclass Search extends Api {}\r\n\r\n\t\t@fetcher(fetch)\r\n\t\t@remote('http://example.com/api')\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = remote('/products')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t\tthis.people = remote('/people')(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\texpect(app.products.fetch).to.be.a('function');\r\n\r\n\t\texpect(fetched.length).to.equal(0);\r\n\r\n\t\tapp.products.fetch('?q=TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('http://example.com/api/products?q=TEST');\r\n\t\tapp.people.fetch('?q=TEST');\r\n\t\texpect(fetched[fetched.length - 1]).to.equal('http://example.com/api/people?q=TEST');\r\n\r\n\t\tfetched.splice(0, fetched.length);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n});\r\n\r\ndescribe('@fetcher(fetchFunction)', () => {\r\n\tit('is a decorator function', () => {\r\n\t\texpect(fetcher).to.be.a('function');\r\n\t\tfunction myFetch(){}\r\n\t\t@fetcher(myFetch)\r\n\t\tclass Test {}\r\n\t\texpect(Test).to.be.a('function');\r\n\t});\r\n\r\n\tit('decorates the target component with a `__fetch` property', () => {\r\n\t\tfunction myFetch(){}\r\n\t\t@fetcher(myFetch)\r\n\t\tclass Test {}\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__fetch');\r\n\t\texpect(test.__fetch).to.equal(myFetch);\r\n\t});\r\n\r\n\tit('works when used as a regular function', () => {\r\n\t\tfunction myFetch(){}\r\n\t\tconst Test = fetcher(myFetch)(class Test { })\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__fetch');\r\n\t\texpect(test.__fetch).to.equal(myFetch);\r\n\t});\r\n\r\n\tit('can be used on Api classes', () => {\r\n\t\tfunction myFetch(){}\r\n\t\tconst Test = fetcher(myFetch)(class Test extends Api { })\r\n\t\tconst test = new Test();\r\n\t\texpect(test).to.have.a.property('__fetch');\r\n\t\texpect(test.__fetch).to.equal(myFetch);\r\n\t});\r\n\r\n\tit('can be used on Api instances', () => {\r\n\t\tfunction myFetch(){}\r\n\t\tclass Test extends Api {}\r\n\t\tconst test = fetcher(myFetch)(new Test());\r\n\t\texpect(test).to.have.a.property('__fetch');\r\n\t\texpect(test.__fetch).to.equal(myFetch);\r\n\t});\r\n\r\n\tit('can mix and match classes and instances', () => {\r\n\t\tfunction myFetch(){}\r\n\t\tfunction myOtherFetch(){}\r\n\t\t@fetcher(myFetch)\r\n\t\tclass Search extends Api {}\r\n\t\tconst search = new Search();\r\n\t\texpect(search.__fetch).to.equal(myFetch);\r\n\r\n\t\tclass App extends Api {\r\n\t\t\tconstructor(state){\r\n\t\t\t\tsuper(state);\r\n\r\n\t\t\t\tthis.products = fetcher(myOtherFetch)(\r\n\t\t\t\t\tlink(this, new Search())\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.people = link(this, new Search());\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst app = new App();\r\n\t\tlog.info(app);\r\n\t\texpect(app.products.__fetch).to.equal(myOtherFetch);\r\n\t\texpect(app.people.__fetch).to.equal(myFetch);\r\n\t});\r\n\r\n\tit('causes the given `fetchFunction` to be used instead of the default one', () => {\r\n\t\tlet fetchCalled = false;\r\n\t\tfunction myFetch(){fetchCalled=true;}\r\n\t\t@fetcher(myFetch)\r\n\t\t@remote\r\n\t\tclass Test{}\r\n\t\tconst test = new Test();\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t\texpect(fetchCalled).to.equal(false);\r\n\t\ttest.fetch();\r\n\t\texpect(fetchCalled).to.equal(true);\r\n\t\texpect(fetched.length).to.equal(0);\r\n\t});\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux-fetch-api.spec.jsx\n **/","module.exports = require(\"chai\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"chai\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = require(\"picolog\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"picolog\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"redux-apis\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"redux-apis\"\n ** module id = 3\n ** module chunks = 0\n **/","import isomorphicFetch from 'isomorphic-fetch';\r\n\r\nexport function remote(url='') {\r\n\t// handle invocation without parentheses: @remote\r\n\tif (typeof url != 'string') {return remote()(url);}\r\n\treturn (api) => {\r\n\t\tif (typeof api == 'function') {api.prototype.fetch = scopedFetcher(url);}\r\n\t\telse {api.fetch = scopedFetcher(url).bind(api);}\r\n\t\treturn api;\r\n\t}\r\n}\r\nexport default remote;\r\n\r\nexport function endpoint(url='', altUrl=null, useAlt=runningInBrowser()) {\r\n\t// handle invocation without parentheses: @endpoint\r\n\tif (typeof url != 'string') {return endpoint()(url);}\r\n\treturn (api) => {\r\n\t\tconst target = typeof api == 'function' ? api.prototype : api;\r\n\t\ttarget.__endpoint = (useAlt && altUrl) || url;\r\n\t\treturn api;\r\n\t}\r\n}\r\n\r\nexport function fetcher(fetchFunction) {\r\n\treturn (api) => {\r\n\t\tconst target = typeof api == 'function' ? api.prototype : api;\r\n\t\ttarget.__fetch = fetchFunction;\r\n\t\treturn api;\r\n\t}\r\n}\r\n\r\nfunction scopedFetcher(baseUrl) {\r\n\treturn function(url='', opts=undefined, abs=false) {\r\n\t\tif (this.__endpoint) {\r\n\t\t\turl = abs && url || this.__endpoint + baseUrl + url;\r\n\t\t}\r\n\t\telse {\r\n\t\t\turl = !abs && baseUrl ? baseUrl + url : url;\r\n\t\t\tlet p = this;\r\n\t\t\twhile (p = p.__parent) {\r\n\t\t\t\tif (p.fetch) {\r\n\t\t\t\t\treturn p.fetch(url, opts, abs);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this.__fetch\t? this.__fetch(url, opts) : isomorphicFetch(url, opts);\r\n\t}\r\n}\r\n\r\nfunction runningInBrowser() {\r\n\treturn typeof window == 'object' && typeof global === 'undefined';\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./redux-fetch-api.jsx\n **/","module.exports = require(\"isomorphic-fetch\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"isomorphic-fetch\"\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}